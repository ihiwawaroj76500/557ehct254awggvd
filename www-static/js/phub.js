var confirmEmailModal=null,phubGenericFuncModule=function(){function a(e,t){for(var a=0;a<e.length;a++)e[a].setAttribute("href",t)}return{setCategoryLink:function(){var e=document.querySelectorAll("#menuItem3 > a, .categoryDefault"),t=e.length?e[0].getAttribute("href"):"";switch(MG_Utils.getCookie("currentCategory")){case"al":a(e,t+="?o=al");break;case"mv":a(e,t+="?o=mv");break;case"mp":a(e,t)}},setCookie:function(e){var t=new Date;t.setTime(t.getTime()+3e4),document.cookie=e+";expires="+t.toUTCString()+";path=/"},friendReqSubmit:function(){var o=document.querySelector("#preventClick"),l=o?o.getAttribute("data-user-id"):"",e=document.querySelector("#friendRequestForm"),s=document.querySelector(".friend_"+l+" button"),i=s.children;MG_Utils.ajaxCall({url:e.getAttribute("action"),data:function(e){for(var t=document.querySelectorAll(e),a={},n=0;n<t.length;n++){a[t[n].name]=1e3<t[n].value.length?t[n].value.substring(0,1e3):t[n].value}return a}('#friendRequestForm input:not([type="button"]), #friendRequestForm textarea'),type:"POST",dataType:"JSON",beforeSend:function(){for(var e=0;e<i.length;e++)MG_Utils.addClass(i[e],"visuallyHidden");s.insertAdjacentHTML("beforeend",'<span class="spinner" />')},success:function(e){var t=document.querySelector(".friend_"+l),a=s.querySelector(".spinner"),n=document.querySelector(".subscribe_"+l);"undefined"!=typeof friendRequestModal&&friendRequestModal.closeModal();for(var r=0;r<i.length;r++)MG_Utils.removeClass(i[r],"visuallyHidden");a&&s.removeChild(a),"SENT"==e.success&&(s.setAttribute("data-friends",1),t&&MG_Utils.removeClass(t,"removeFriend"),t&&MG_Utils.removeClass(t,"add"),t&&MG_Utils.addClass(t,"sent"),n&&e.subscribed&&(n.querySelector("button").setAttribute("data-subscribed",1),MG_Utils.removeClass(n,"subscribe"),MG_Utils.addClass(n,"unsubscribe"),n.querySelector(".buttonLabel").textContent="Subscribed"),o&&1==o.getAttribute("data-refresh")&&location.reload(),t&&t.querySelector(".buttonLabel")&&(t.querySelector(".buttonLabel").textContent=e.text_initial))}})}}}(),eventsModule=function(){function a(e){var t;e.target&&MG_Utils.hasClass(e.target,"pornstarsList")&&((t=e.target.value)&&(e.target.value=t.replace(/[\<\>|\[\]|\{\}|\(\)]/gi,"")))}function G(a){var e=document.getElementById("confirmEmailModal");e&&(confirmEmailModal=new MG_Modal({content:e,className:"infoModalContainer"})),void 0!==confirmEmailModal&&confirmEmailModal.openModal(function(e,t){txtMessage=t.querySelectorAll(".text"),txtMessage[0].innerHTML=a})}function q(e){e.target&&("BUTTON"===e.target.tagName&&e.target.parentElement&&MG_Utils.hasClass(e.target.parentElement,"subscribeButton")||"SPAN"===e.target.tagName&&e.target.parentElement&&"BUTTON"===e.target.parentElement.tagName&&e.target.parentElement.parentElement&&MG_Utils.hasClass(e.target.parentElement.parentElement,"subscribeButton")||"I"===e.target.tagName&&e.target.parentElement&&"BUTTON"===e.target.parentElement.tagName&&e.target.parentElement.parentElement&&MG_Utils.hasClass(e.target.parentElement.parentElement,"subscribeButton"))&&!function e(t,a,n){t.preventDefault();var r=void 0!==a?a:"BUTTON"===t.target.tagName?t.target:t.target.parentElement,o=r.children,l=r.parentElement.getAttribute("data-button-id"),s=document.querySelectorAll("."+l),i=document.querySelectorAll("."+l+" button"),u=document.querySelectorAll("."+l+" .buttonLabel"),d=0==r.getAttribute("data-subscribed")?r.getAttribute("data-subscribe-url"):r.getAttribute("data-unsubscribe-url"),c=r.getAttribute("data-login"),m=r.getAttribute("data-refresh"),g=0==r.getAttribute("data-subscribed")?"By subscribing to this content partner you are also subscribing to all of their channels, would you like to continue?":"By unsubscribing from this content partner you are also unsubscribing from all of their channels, would you like to continue?",f=r.getAttribute("data-content-partner"),v=r.getAttribute("data-is-pornhub"),b=r.getAttribute("data-hidden");1==c?signinbox.show(textPHTranslation.loginTitleSubscribe):0==v&&1==f&&!0!==n?yesNoModal.show(g,function(){e(t,r,!0)}):1==b?G(modalTranslationText.cannotSubscribe):MG_Utils.ajaxCall({type:"POST",url:d,dataType:"JSON",beforeSend:function(){for(var e=0;e<o.length;e++)MG_Utils.addClass(o[e],"visuallyHidden");r.insertAdjacentHTML("beforeend",'<span class="spinner" />')},success:function(e){for(var t=r.querySelector(".spinner"),a=0;a<o.length;a++)MG_Utils.removeClass(o[a],"visuallyHidden");if(t&&r.removeChild(t),"PASS"==e.success){if(0==r.getAttribute("data-subscribed")){for(a=0;a<i.length;a++)i[a].setAttribute("data-subscribed",1);for(a=0;a<s.length;a++)MG_Utils.removeClass(s[a],"subscribe"),MG_Utils.addClass(s[a],"unsubscribe")}else{for(a=0;a<i.length;a++)i[a].setAttribute("data-subscribed",0);for(a=0;a<s.length;a++)MG_Utils.removeClass(s[a],"unsubscribe"),MG_Utils.addClass(s[a],"subscribe")}1==m&&location.reload()}else r.setAttribute("disabled",1);if(e.text_initial)for(a=0;a<u.length;a++)u[a].textContent=e.text_initial},error:function(){location.reload()}})}(e)}return{onTextAreaFocus:function(e){var t=e.target;t&&"TEXTAREA"===t.tagName&&t.hasAttribute("data-val")&&t.dataset.val==t.value&&(t.value="")},onBlur:function(e){var t;(t=e.target)&&"TEXTAREA"===t.tagName&&t.hasAttribute("data-val")&&""==t.value&&(t.value=t.dataset.val),a(e)},onKeyUp:function(e){a(e)},onButtonMouseEnter:function(e){var t;e.target&&MG_Utils.hasClass(e.target,"addFriendButton")?(t=e.target.querySelector(".buttonLabel"))&&"Friends"===t.textContent?t.textContent="Unfriend":t&&"Request Sent"===t.textContent&&(t.textContent="Cancel Request"):e.target&&MG_Utils.hasClass(e.target,"subscribeButton")&&(t=e.target.querySelector(".buttonLabel"))&&"Subscribed"===t.textContent&&(t.textContent="Unsubscribe")},onButtonMouseLeave:function(e){var t;e.target&&MG_Utils.hasClass(e.target,"addFriendButton")?(t=e.target.querySelector(".buttonLabel"))&&"Unfriend"===t.textContent?t.textContent="Friends":t&&"Cancel Request"===t.textContent&&(t.textContent="Request Sent"):e.target&&MG_Utils.hasClass(e.target,"subscribeButton")&&(t=e.target.querySelector(".buttonLabel"))&&"Unsubscribe"===t.textContent&&(t.textContent="Subscribed")},onSpanMouseOver:function(e){var t,a;e.target&&MG_Utils.hasClass(e.target,"js-moreAction")&&(t=e.target.querySelector(".tooltiptext"),a=e.target.querySelector(".triangle"),t&&MG_Utils.removeClass(t,"hidden"),a&&MG_Utils.removeClass(a,"hidden"))},onSpanMouseOut:function(e){var t,a;e.target&&MG_Utils.hasClass(e.target,"js-moreAction")&&(t=e.target.querySelector(".tooltiptext"),a=e.target.querySelector(".triangle"),t&&MG_Utils.addClass(t,"hidden"),a&&MG_Utils.addClass(a,"hidden"))},documentClick:function(e){var t,a,n,r,o,l,s,i,u,d,c,m,g,f,v,b,h,p,M,y,C,S,E,_,U;(t=e).target&&"preventClick"===t.target.id&&(a=t.target,n=document.querySelector("#messageRequest"),a.setAttribute("disabled","disabled"),n&&"Add a personal message (optional)..."==n.value&&(n.value=" "),isLogged&&phubGenericFuncModule.friendReqSubmit()),(r=e).target&&("LI"===r.target.tagName&&MG_Utils.hasClass(r.target,"item")||"A"===r.target.tagName&&r.target.parentElement&&MG_Utils.hasClass(r.target.parentElement,"item")||"SPAN"===r.target.tagName&&r.target.parentElement&&r.target.parentElement.parentElement&&MG_Utils.hasClass(r.target.parentElement.parentElement,"item"))&&(l=(o=MG_Utils.hasClass(r.target,"item")?r.target:MG_Utils.hasClass(r.target.parentElement,"item")?r.target.parentElement:r.target.parentElement.parentElement).querySelectorAll(".soughtValue"),s=MG_Utils.hasClass(o,"pornstar"),i=MG_Utils.hasClass(o,"channel"),u=document.querySelector("#searchInput"),d=l.length?l[0].textContent:u?u.value:"",c={},m={to:encodeURI(o.textContent),from:encodeURI(d)},s?c.psu=m:i?c.csu=m:c.qsu=m,phubGenericFuncModule.setCookie("autocomplete_search="+JSON.stringify(c))),(g=e).target&&MG_Utils.hasClass(g.target,"js-okBtn")&&(g.preventDefault(),confirmEmailModal.closeModal()),(f=e).target&&("BUTTON"===f.target.tagName&&f.target.parentElement&&MG_Utils.hasClass(f.target.parentElement,"addFriendButton")||"SPAN"===f.target.tagName&&f.target.parentElement&&"BUTTON"===f.target.parentElement.tagName&&f.target.parentElement.parentElement&&MG_Utils.hasClass(f.target.parentElement.parentElement,"addFriendButton")||"I"===f.target.tagName&&f.target.parentElement&&"BUTTON"===f.target.parentElement.tagName&&f.target.parentElement.parentElement&&MG_Utils.hasClass(f.target.parentElement.parentElement,"addFriendButton"))&&(f.preventDefault(),v="BUTTON"===f.target.tagName?f.target:f.target.parentElement,b=v.children,h=v.parentElement.getAttribute("data-button-id"),p=document.querySelectorAll("."+h),M=document.querySelectorAll("."+h+" .buttonLabel"),y=v.getAttribute("data-friends"),C=v.getAttribute("data-refresh"),S=2==y?v.getAttribute("data-unfriend-url"):v.getAttribute("data-friend-url"),E=v.getAttribute("data-login"),_=v.getAttribute("data-show-confirm-email-modal"),U=v.getAttribute("data-hidden"),1==E?signinbox.show(textPHTranslation.loginTitleToAddFriend):1==_?G(modalTranslationText.confirmEmail):1==U?G(modalTranslationText.cannotAdd):1==y?MG_Utils.ajaxCall({type:"POST",url:v.getAttribute("data-unfriend-url"),dataType:"JSON",success:function(e){if("PASS"==e.success){v.setAttribute("data-friends",0);for(var t=0;t<M.length;t++)M[t].textContent="Add Friend";for(t=0;t<p.length;t++)MG_Utils.removeClass(p[t],"sent"),MG_Utils.removeClass(p[t],"removeFriend"),MG_Utils.addClass(p[t],"add")}}}):MG_Utils.ajaxCall({type:"POST",url:S,dataType:"JSON",beforeSend:function(){for(var e=0;e<b.length;e++)MG_Utils.addClass(b[e],"visuallyHidden");v.insertAdjacentHTML("beforeend",'<span class="spinner" />')},success:function(e){for(var t=v.querySelector(".spinner"),a=0;a<b.length;a++)MG_Utils.removeClass(b[a],"visuallyHidden");if(t&&v.removeChild(t),"PASS"==e.success){if(0==y){1==C&&e.auto_accepted&&(v.setAttribute("data-friends",2),location.reload()),v.setAttribute("data-friends",1);for(a=0;a<p.length;a++)MG_Utils.removeClass(p[a],"add"),MG_Utils.addClass(p[a],"removeFriend")}else if(2==y){v.setAttribute("data-friends",0);for(a=0;a<p.length;a++)MG_Utils.removeClass(p[a],"removeFriend"),MG_Utils.addClass(p[a],"add");1==C&&location.reload()}}else"ATTEMPT"==e.success?builtModal(e.user.id,e.user.avatar,e.user.username,e.user.profile,S,C):v.setAttribute("disabled",1);if(e.text_initial&&0<M.length)for(a=0;a<M.length;a++)M[a].textContent=e.text_initial},error:function(){location.reload()}})),q(e),isLogged&&function(e){if(e.target&&(MG_Utils.hasClass(e.target,"notificationIcon")||"I"===e.target.tagName&&e.target.parentElement&&MG_Utils.hasClass(e.target.parentElement,"notificationIcon"))){var t=MG_Utils.hasClass(e.target,"notificationIcon")?e.target:e.target.parentElement,a=t.dataset?t.dataset.title:"",n=t.dataset?t.dataset.type:"",r=document.querySelector("#notificationBox"),o=document.querySelector("#notificationBox .titleContainer"),l=document.querySelector("#notificationBox #loadingDiv"),s=document.querySelectorAll("ul#modelNotificationList > li, .handle3, .track3");o&&(o.textContent=a),r&&(r.dataset.type=n),r&&r.setAttribute("type",n);for(var i=0;i<s.length;i++)s[i].style.display="none";l&&(l.style.display="block"),setTimeout(function(){insertNotificationContent()},100)}}(e)},backToPHClick:function(){var e=document.querySelector("#js-backToPH"),t=e?e.dataset:"";t&&MG_Utils.ajaxCall({url:t.logout,type:"POST"}).done(function(){$j.ajax({url:premiumRedirectCookieURL+"&do=delete",cache:!1,xhrFields:{withCredentials:!0},crossDomain:!0}).done(function(){window.location.href=t.redirect})})}}}(),avatarLoad=function(){var d=MG_Utils.hasClass(document.body,"logged-out"),c={timer:null,el:null},m={};function e(e){if(e.target&&(MG_Utils.hasClass(e.target,"avatarWrap")||MG_Utils.hasClass(e.target,"userLink")||MG_Utils.hasClass(e.target,"usernameWrap"))){var i=e.target,t=i.dataset,a=document.querySelectorAll(".avatarPosition"),u="";if(0==t.disablePopover){for(var n=0;n<a.length;n++)a[n].innerHTML="";(MG_Utils.hasClass(i,"avatarTrigger")&&a.length||MG_Utils.hasClass(i,"usernameWrap")&&a.length&&(o=(r=e).target,l=r.currentTarget,s=l.querySelector(".avatarPosition"),l.contains(o)&&!s.contains(o)||l==o)||MG_Utils.hasClass(i,"userLink"))&&(c.timer&&clearTimeout(c.timer),u=t.type,c.el=i,c.timer=setTimeout(function(){var e;m[t[u+"id"]]?!d||(e=c.el.querySelector(".avatarPosition"))&&(e.innerHTML=m[t[u+"id"]]):MG_Utils.ajaxCall({type:"POST",url:"/"+u+"/hover?id="+t[u+"id"],dataType:"html",context:this,cache:!1,success:function(e){i.querySelector(".avatarPosition").innerHTML=e;for(var t=document.querySelectorAll(".avatarPopOver"),a=0;a<t.length;a++)t[a].style.display="none";i.querySelector(".avatarPopOver")&&(i.querySelector(".avatarPopOver").style.display="block");var n=document.querySelector(".avatarPopOver"),r=n?n.getBoundingClientRect():null,o=r?r.left:0,l=n?n.offsetWidth:0,s=document.querySelector(".wrapper")?document.querySelector(".wrapper").offsetWidth:0;n&&(s<o+l?MG_Utils.addClass(n,"popOverEdge"):MG_Utils.removeClass(n,"popOverEdge")),d&&(m[c.el.dataset[u+"id"]]=c.el.querySelector(".avatarPosition")?c.el.querySelector(".avatarPosition").innerHTML:"")}})},500))}}var r,o,l,s}function t(e){var t,a,n,r;e.target&&(MG_Utils.hasClass(e.target,"avatarWrap")||MG_Utils.hasClass(e.target,"userLink")||MG_Utils.hasClass(e.target,"usernameWrap"))&&(a=(t=e.target).dataset,n="",r=document.querySelector(".avatarPopOver"),0==a.disablePopover&&(n=t.dataset?t.dataset.type:"",d&&(m[e.target.dataset[n+"id"]]=e.target.querySelector(".avatarPosition")?e.target.querySelector(".avatarPosition").innerHTML:""),r&&(r.style.display="none"),r&&document.body.insertAdjacentElement("beforeend",r),clearTimeout(c.timer)))}return{init:function(){document.body.addEventListener&&(document.body.addEventListener("mouseenter",e,!0),document.body.addEventListener("mouseleave",t,!0))}}}();function loadJS(e,t){MG_Utils.ajaxCall({url:e,dataType:"script"}).done(function(){"function"==typeof t&&t()})}MG_Utils.domReady(function(){document.addEventListener("click",eventsModule.documentClick);for(var e=document.querySelectorAll("a.relatedItem"),t=document.querySelectorAll(".js-trendSearch"),a=document.querySelectorAll("ul#curentItemCategory li"),n=document.querySelector(".nf-categories-sidebar .sidebar_wrapper.js-mxpParent"),r=document.querySelectorAll(".js-moreAction"),o=document.querySelectorAll("#languages li a, .languages li a"),l=document.querySelector("#js-backToPH"),s=document.querySelector(".js_premiumLogOut"),i=0;i<e.length;i++)e[i].addEventListener("click",function(){var e=document.querySelector("#searchInput"),t={from:encodeURI(e?e.value.trim():"")};phubGenericFuncModule.setCookie("related_search="+JSON.stringify(t))});for(i=0;i<t.length;i++)t[i].addEventListener("click",function(){phubGenericFuncModule.setCookie("trending_search= "+encodeURI(this.textContent))});for(i=0;i<a.length;i++)a[i].addEventListener("click",function(){document.cookie="currentCategory= "+this.dataset.category});phubGenericFuncModule.setCategoryLink(),"Explorer"==BrowserDetect.browser&&BrowserDetect.version<8||avatarLoad.init(),document.body.addEventListener&&(document.body.addEventListener("focus",eventsModule.onTextAreaFocus,!0),document.body.addEventListener("blur",eventsModule.onBlur,!0),document.body.addEventListener("keyup",eventsModule.onKeyUp,!0),document.body.addEventListener("mouseenter",eventsModule.onButtonMouseEnter,!0),document.body.addEventListener("mouseleave",eventsModule.onButtonMouseLeave,!0),document.body.addEventListener("mouseover",eventsModule.onSpanMouseOver,!0),document.body.addEventListener("mouseout",eventsModule.onSpanMouseOut,!0)),n&&MG_Utils.addClass(n,"domReady"),isLarge&&MG_Utils.addClass(document.querySelector("html"),"largeLayout");for(i=0;i<r.length;i++)r[i].addEventListener("click",function(e){var t;e.target&&e.target.parentElement&&((t=e.target.parentElement.querySelector("#profileBlockReport .blockAndReportSubscribers"))&&MG_Utils.toggleClass(t,"hidden"))});for(var u,i=0;i<o.length;i++)o[i].addEventListener("click",function(){if(setCookieAdvanced("lang",this.dataset.lang,30,"/",this.dataset.root),location.hash!=this.hash)return location.href=(-1==this.href.indexOf("#")?this.href:this.href.substring(0,this.href.indexOf("#")))+location.hash,!1});l&&l.addEventListener("click",eventsModule.backToPHClick),s&&s.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href");$j.ajax({url:premiumRedirectCookieURL+"&do=delete",cache:!1,crossDomain:!0,xhrFields:{withCredentials:!0}}).done(function(){MG_Utils.storage.hasLocalStorage&&localStorage.getItem("covidPageViewCount")&&localStorage.removeItem("covidPageViewCount"),document.location.href=t})}),!document.getElementById("js-networkBar")||(u=document.getElementById("js-networkBar").querySelector(".languageDropdown").querySelectorAll("li"))&&[].forEach.call(u,function(t){t.addEventListener("click",function(){var e=MG_Utils.getData(t,"lang");setCookieAdvanced("lang",e,30,"/",removeSubdomain(window.location.host))})}),isLogged&&($j("#notificationBox").on("click",".subscribeConfirm label",function(e){var t=e.currentTarget.parentElement.querySelector("input"),a=e.currentTarget.querySelector(".fakeCheckBox");t.checked?MG_Utils.removeClass(a,"checked"):MG_Utils.addClass(a,"checked")}),$j("#notificationBox").on("click",".friendRequestItem .btnFlag",function(){var e=this;yesNoModal.show("Are you sure you want to report as spam and reject this request?",function(){reportSpam(e.dataset.userid)})}),$j("#notificationBox").on("click",function(e){e.stopPropagation()}))}),function(){var o,l,s,e;(l=document.querySelector(".js-elInViewPort"),s=MG_Utils.debounce(function(){var e,t,a=0,n=document.querySelectorAll(".js-whenInView"),r=n.length;if(e=l.getBoundingClientRect(),t=document.documentElement,0<=e.bottom&&0<=e.right&&e.top<=(window.innerHeight||t.clientHeight)&&e.left<=(window.innerWidth||t.clientWidth)){if(o)return void window.removeEventListener("scroll",s);if(n&&r){for(;a<r;a++)n[a].setAttribute("src",n[a].getAttribute("data-image"));o=!0}}},125),{init:function(){l&&window.addEventListener("scroll",s)}}).init(),(e=document.querySelector(".relatedCategoriesWrapper"))&&0==e.querySelector(".nf-categories").querySelectorAll(".show").length&&MG_Utils.addClass(e,"hidden")}(),function(){if("undefined"!=typeof MPP_EXCLUSIVE_TERMS)try{var e=document.getElementById("modelMPPExclusive"),d=new MG_Modal({content:e,className:"modelMPPExclusiveModal",closeButton:!1,closeDocument:!1,maxWidth:"500px",minWidth:"500px"});d.openModal(function(){var e,t,a,n,r,o,l,s,i,u=document.getElementById("modalWrapMTubes");u&&(e=u.querySelector(".modelMPPForm"),t=u.querySelector(".modelMPPSubmit"),a=u.querySelector(".js-modelMPPInputIntial"),n=u.querySelector(".js-modelMPPError"),r=u.querySelector(".js-modelMPPErrorMessage"),o={errors:[],checked:!1},l=function(e){if(o.errors.push(e),n&&r)return MG_Utils.removeClass(n,"isHidden"),o.errors.forEach(function(e){r.innerHTML=e})},s=function(){n&&r&&(MG_Utils.addClass(n,"isHidden"),r.innerHTML="")},i=function(e){3===e.code?l(MPP_EXCLUSIVE_TERMS.errorAlpha):l(e.text)},document.addEventListener("change",function(e){MG_Utils.hasClass(e.target,"js-modelMPPInput")&&(s(),o.checked=!0)}),document.addEventListener("click",function(e){if(MG_Utils.hasClass(e.target,"modelMPPSubmit"))return e.preventDefault(),o.checked?""===a.value?l(MPP_EXCLUSIVE_TERMS.errorIntials):3<=a.value.length?l(MPP_EXCLUSIVE_TERMS.errorLimit):void MG_Utils.ajaxCall({url:MPP_EXCLUSIVE_TERMS.endPoint,data:{exclusive:u.querySelector(".js-modelMPPInput:checked").value,initials:u.querySelector(".js-modelMPPInputIntial").value},type:"POST",success:function(e){e.success?d.closeModal():i(e.message)}}):l(MPP_EXCLUSIVE_TERMS.errorChecked)}),document.addEventListener("focus",function(e){MG_Utils.hasClass(e.target,"js-modelMPPInputIntial")&&s()},!0),a.addEventListener("keyup",function(){13===event.keyCode&&t.click()}),e.addEventListener("submit",function(e){e.preventDefault()}))})}catch(e){console.log("MPP Eclusive: ",e)}}();