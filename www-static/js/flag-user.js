!function(){var r,e=document.querySelector(".flagProfileModal");function i(e){var t=e.target.parentElement.querySelector("input");flagValue=t.value,flagData=t.getAttribute("data-ajax-url"),flagSubmit.removeAttribute("disabled"),MG_Utils.removeClass(flagSubmit,"disabledButton")}modalElement="",flagSubmit="",flagValue="",flagReasonText="",flagData="",e&&(r=new MG_Modal({content:e,className:"flagItemContainer flagProfileContainer"}),document.addEventListener("click",function(e){var t,a,l,n="",o=e.target,n=MG_Utils.hasClass(o,"flagUserProfile")?o:o.parentElement;MG_Utils.hasClass(n,"flagUserProfile")&&(e.preventDefault(),void 0!==r&&r.openModal(void(l=setInterval(function(){modalElement=document.querySelector(".flagProfileContainer"),flagSubmit=modalElement.querySelector(".profileFlagSubmit");var e=modalElement.querySelectorAll(".flagCheckBox"),t=modalElement.querySelector(".flag_reason");e&&(flagSubmit.setAttribute("disabled",!0),MG_Utils.addClass(flagSubmit,"disabledButton"),[].forEach.call(e,function(e){e.addEventListener("change",i)}),t.addEventListener("change",function(e){var t;flagReasonText=(t=e.target.value,encodeURIComponent(t).replace(/[.!~*'()]/g,function(e){return"%"+e.charCodeAt(0).toString(16)}))}),clearInterval(l))},300))),n&&n.getAttribute("data-user")&&(t=n.getAttribute("data-user"),a=document.querySelectorAll(".flagCheckBox"),[].forEach.call(a,function(e){e.setAttribute("data-ajax-url",t)})))}),document.addEventListener("click",function(e){var t=e.target,a=t.parentElement;MG_Utils.hasClass(t,"profileFlag")&&"true"!=a.getAttribute("disabled")&&(e.preventDefault(),flagSubmit.setAttribute("disabled",!0),MG_Utils.ajaxCall({type:"POST",url:flagData,data:{type:flagValue,reason:flagReasonText},success:function(){var e;r.closeModal(),e=document.querySelectorAll("#profileBlockReport .sectionWrapper.boxElement"),[].forEach.call(e,function(e){MG_Utils.hasClass(e,"hidden")||MG_Utils.addClass(e,"hidden")}),setTimeout(function(){var e=infoModalContent("",PROFILE_FLAG.thankYouInputMessage,PROFILE_FLAG.videoFlaggedMessage,"");e&&(infoModalHolder=new MG_Modal({content:e,className:"infoModalContainer userFlagSuccess"}),infoModalHolder.openModal())},500)},error:function(){flagSubmit.setAttribute("disabled",!1)}}))}))}();